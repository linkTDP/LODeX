<link rel="import" href="../bower_components/core-icons/core-icons.html">
<link rel="import" href="../bower_components/core-icon/core-icon.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/core-collapse/core-collapse.html">
<link rel="import" href="../bower_components/core-list/core-list.html">
<polymer-element name="dataset-detaildiv" attributes="endpoint">
<template>
<style>
div{
	font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;
	color:black;
}
/* Button */
    .button {
      display: inline-block;
      position: relative;
      width: 120px;
      height: 32px;
      line-height: 32px;
      border-radius: 2px;
      font-size: 0.9em;
      background-color: #fff;
      color: #646464;
    }
    
    .button > paper-ripple {
      border-radius: 2px;
      overflow: hidden;
    }
    
    .button.narrow {
      width: 60px;
    }
    
    .button.grey {
      background-color: #eee;
    }
    
    .button.blue {
      background-color: #4285f4;
      color: #fff;
    }
    
    .button.green {
      background-color: #0f9d58;
      color: #fff;
    }
    
    .button.raised {
      transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      transition-delay: 0.2s;
      box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
    }
    
    .button.raised:active {
      box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);
      transition-delay: 0s;
    }
    
    /* Icon Button */
    .icon-button {
      position: relative;
      display: inline-block;
      width: 56px;
      height: 56px;
    }
    
    .icon-button > core-icon {
      margin: 16px;
      transition: -webkit-transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .icon-button:hover > core-icon {
      -webkit-transform: scale(1.2);
      transform: scale(1.2);
    }
    
    .icon-button > paper-ripple {
      overflow: hidden;
      color: #646464;
    }
    
    .icon-button.red > core-icon::shadow path {
      fill: #db4437;
    }
    
    .icon-button.red > paper-ripple {
      color: #db4437;
    }
    
    .icon-button.blue > core-icon::shadow path {
      fill: #4285f4;
    }
    
    .icon-button.blue > paper-ripple {
      color: #4285f4;
    }
    
    /* FAB */
    .fab {
      position: relative;
      display: inline-block;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      color: #fff;
      overflow: hidden;
      transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      transition-delay: 0.2s;
      box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
    }
    
    .fab.red {
      background-color: #d23f31;
    }
    
    .fab.blue {
      background-color: #4285f4;
    }
    
    .green {
      background-color: #0f9d58;
    }
    
    .fab:active {
      box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);
      transition-delay: 0s;
    }
    
    .fab > core-icon {
      margin: 16px;
    }
    
    .fab > core-icon::shadow path {
      fill: #fff;
    }
    
    /* Menu */
    .menu {
      display: inline-block;
      width: 180px;
      background-color: #fff;
      box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);
    }
    
    .item {
      position: relative;
      height: 48px;
      line-height: 48px;
      color: #646464;
      font-size: 0.9em;
    }
    
    .menu.blue > .item {
      color: #4285f4;
    }
    
    /* Card, Dialog */
    .card, .dialog {
      position: relative;
      display: inline-block;
      width: 300px;
      height: 240px;
      vertical-align: top;
      background-color: #fff;
      box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24);
    }
    
    .dialog {
      box-sizing: border-box;
      padding: 16px;
    }
    
    .dialog > .content {
      height: 170px;
      font-size: 0.9em;
    }
    
    .dialog > .content > .title {
      font-size: 1.3em;
    }
    
    .dialog > .button {
      width: 90px;
      float: right;
    }
    
    .card.image {
      background: url(http://lorempixel.com/300/240/nature/);
      color: #fff;
    }
    
    /* Misc */
    .center {
      text-align: center;
    }
    
    .label {
      padding: 0 16px;
    }
    
    .label-blue {
      color: #4285f4; 
    }
    
    .label-red {
      color: #d23f31; 
    }
    
    	.fab > core-icon::shadow path {
      fill: #fff;
    }
	.small {
    	height: 30px;
    	width: 30px;
    	margin-bottom: 50px;
  	}
paper-fab.green {
      background: #0f9d58;
    }
</style>
<div style="font-size: 14pt;" horizontal layout center>
<div style="width:40%">
	<template if={{endpoint.name}}>
		{{endpoint.name}}
	</template>

	<template  if={{!endpoint.name}}>
		{{endpoint.uri}}
	</template>
	</div>
	<div style="width:13%;text-align: center;">
	<template if={{endpoint.triples}}>
		{{endpoint.triples}} 
	</template>
	</div>
	
	<div style="width:13%;text-align: center;">
	<template if={{endpoint.classesCount}}>
		{{endpoint.classesCount}} 
	</template>
	</div>
	
	<div style="width:13%;text-align: center;">
	<template if={{endpoint.propCount}}>
		{{endpoint.propCount}} 
	</template>
	</div>
	
	<div style="text-align: center;" flex>
	<template if={{endpoint.instances}}>
		{{endpoint.instances}} 
	</template>
	</div>

	<template if={{!endpoint.detail}}>

		<div class="icon-button red">
      		<core-icon icon="expand-more"></core-icon>
      		<paper-ripple class="circle recenteringTouch" fit on-click="{{toggle}}"></paper-ripple>
    	</div>
  	</template>
  	<div><a haref="#!/schemaSummary/{{endpoint.id}}">
  	<paper-fab style="margin:4px;" mini icon="open-in-new" class="green" title="done" on-click={{goToSS}} ></paper-fab>
  	</a>
</div>
</div>

<core-collapse id="collapse">

    <div horizontal layout center class="content">
      	<div flex self-start>
      		<template if={{endpoint.propList}}>
      			<div style="text-align:center;"><b>PROPERTIES</b></div>
    				<template repeat="{{endpoint.propList}}">
      				<div style="margin-right:10px;margin-left:10px;font-size:9pt" horizontal layout center>
      					<div flex>{{property}}</div>
      					<div style="margin-left:10px;">{{count}}</div>
      				</div>
    				</template>     			
      			</template>
      		</div>
      		<div flex self-start>
      			<template if={{endpoint.classList}}>
      			<div style="text-align:center;"><b>CLASSES</b></div>
      			<template repeat="{{endpoint.classList}}">
      				<div style="margin-right:10px;margin-left:10px;font-size:9pt" horizontal layout center>
      					<div flex>{{class}}</div>
      					<div style="margin-right:10px;">{{nInstance}}</div>
      				</div>
    				</template>
      			</template>
      		</div>
      		

  	
</div>
</core-collapse>


</template>

<script>

	Polymer({		
		toggle: function() {
			console.log('toggy')
			  this.$.collapse.toggle();
			},
		goToSS: function() {
			document.location.href = "#!/schemaSummary/"+this.endpoint.id;			
// 			console.log('firing')
			this.fire('core-signal', {name: "gotoss", data: {id:this.endpoint.id}});
		 /*  this.fire('goToSS', {id:this.endpoint.id}); */
		}
	});

</script>

</polymer-element>